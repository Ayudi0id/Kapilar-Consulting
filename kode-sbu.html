<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kode SBU & Subklasifikasi - Kapilar Consulting</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css"
      rel="stylesheet"
    />
    <link href="style.css" rel="stylesheet" />
    <style>
      header {
        background: linear-gradient(
            rgba(0, 0, 0, 0.55),
            rgba(0, 0, 0, 0.55)
          ),
          url("images/kode-sbu.jpg")
            center/cover;
        color: white;
        padding: 100px 0;
      }
      .search-box {
        max-width: 450px;
        margin: 2rem auto;
      }
      th {
        background-color: #0d6efd;
        color: white;
      }
      tr:hover {
        background-color: #f7f9ff;
      }
      #noDataMessage {
        text-align: center;
        color: #888;
      }
    </style>
  </head>

  <body>
    <!-- Navbar -->
<nav class="navbar navbar-expand-lg sticky-top">
  <div class="container">
    <a class="navbar-brand fw-bold d-flex align-items-center" href="index.html">
      <img src="images/logo.png" alt="Kapilar Consulting" height="40" class="me-2" />
      Kapilar Consulting
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="about.html">Tentang Kami</a></li>
        <li class="nav-item"><a class="nav-link" href="services.html">Layanan</a></li>
        <li class="nav-item"><a class="nav-link" href="clients.html">Klien</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Kontak</a></li>
      </ul>
    </div>
  </div>
</nav>

    <!-- Header -->
    <header class="text-center" data-aos="fade-down">
      <div class="container">
        <h1 class="fw-bold">Kode SBU & Subklasifikasi</h1>
        <p class="lead mb-0">Cari dan lihat daftar klasifikasi bidang usaha jasa konstruksi (KBLI)</p>
      </div>
    </header>

    <!-- Konten -->
    <section class="py-5 bg-light">
      <div class="container" data-aos="fade-up">
        <div class="search-box text-center">
          <input
            type="text"
            id="searchInput"
            class="form-control shadow-sm"
            placeholder="Cari kode KBLI, nama, atau jenis usaha..."
          />
        </div>

        <div class="table-responsive shadow rounded">
          <table class="table table-bordered table-striped align-middle text-center" id="sbuTable">
            <thead>
              <tr>
                <th>Kode KBLI</th>
                <th>Judul KBLI</th>
                <th>Kode Subklasifikasi</th>
                <th>Jenis Usaha</th>
                <th>Kualifikasi</th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <tr>
                <td colspan="5" class="text-center text-muted">Memuat data...</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p id="noDataMessage" class="mt-3 d-none">Data tidak ditemukan.</p>
      </div>
    </section>

    <a href="https://wa.me/6285280438151" target="_blank" class="whatsapp-float"><i class="bi bi-whatsapp"></i></a>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script>AOS.init({ duration: 1000, once: true });</script>
    <script src="informasi.js"></script>
    <script src="script.js"></script>
    <div id="footer-placeholder"></div>
  </body>
</html>

    <!-- WhatsApp Floating -->
    <a href="https://wa.me/6285280438151" target="_blank" class="whatsapp-float">
      <i class="bi bi-whatsapp"></i>
    </a>

    <!-- Script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script>
      AOS.init({ duration: 1000, once: true });

      const tableBody = document.getElementById("tableBody");
      const searchInput = document.getElementById("searchInput");
      const noDataMessage = document.getElementById("noDataMessage");
      let sbuData = [];

      function renderTable(data) {
        tableBody.innerHTML = "";
        if (data.length === 0) {
          noDataMessage.classList.remove("d-none");
          return;
        }
        noDataMessage.classList.add("d-none");
        data.forEach(item => {
          const row = `
            <tr>
              <td>${item.kode_kbli}</td>
              <td>${item.judul_kbli}</td>
              <td>${item.kode_subklasifikasi}</td>
              <td>${item.jenis_usaha}</td>
              <td>${item.kualifikasi}</td>
            </tr>
          `;
          tableBody.insertAdjacentHTML("beforeend", row);
        });
      }

      fetch("data/sbu.json")
        .then(res => res.json())
        .then(data => {
          sbuData = data;
          renderTable(sbuData);
        })
        .catch(() => {
          tableBody.innerHTML = `<tr><td colspan="5" class="text-danger text-center">Gagal memuat data.</td></tr>`;
        });

      searchInput.addEventListener("keyup", () => {
        const filter = searchInput.value.toLowerCase();
        const filtered = sbuData.filter(
          item =>
            item.kode_kbli.toLowerCase().includes(filter) ||
            item.judul_kbli.toLowerCase().includes(filter) ||
            item.jenis_usaha.toLowerCase().includes(filter) ||
            item.kode_subklasifikasi.toLowerCase().includes(filter) ||
            item.kualifikasi.toLowerCase().includes(filter)
        );
        renderTable(filtered);
      });
    </script>
    <script src="informasi.js"></script>
  </body>
</html>
